<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title th:text="${memo.id} != null ? 'メモ編集' : 'メモ作成'"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1 class="app-title" th:text="${memo.id} != null ? 'メモ編集' : 'メモ作成'"></h1>
            <a th:href="${memo.id} != null ? @{|/memo/detail/${memo.id}|}  : @{/memo}" class="btn btn-outline"><i class="ri-arrow-left-line"></i> 戻る</a>
        </div>

        <div class="note-form-card">
            <form th:action="${memo.id} != null ? @{|/memo/update/${memo.id}|} : @{/memo/create}" th:object="${memo}" method="post">
				<input type="hidden" th:if="${memo.id} != null" th:field="*{id}">
                <div class="form-group">
                    <label>タイトル：</label>
                    <input type="text" th:field="*{title}">
                    <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="error-message"></div>
                </div>
				<div class="form-group priority-group">
				  <label>優先度：</label>
				  <div class="priority-options">
				    <label class="priority-pill high">
				      <input type="radio" th:field="*{priority}" value="HIGH" class="priority-radio"/>
				      高
				    </label>
				    <label class="priority-pill medium">
				      <input type="radio" th:field="*{priority}" value="MEDIUM" class="priority-radio"/>
				      中
				    </label>
				    <label class="priority-pill low">
				      <input type="radio" th:field="*{priority}" value="LOW" class="priority-radio"/>
				      低
				    </label>
				  </div>
				</div>
                <div class="form-group">
                    <label>内容：</label>
                    <textarea th:field="*{content}"></textarea>
                    <div th:if="${#fields.hasErrors('content')}" th:errors="*{content}" class="error-message"></div>
                </div>

                <div class="form-button-container">
                    <button type="submit" class="btn btn-primary" th:text="${memo.id} != null ? '更新' : '作成'">作成</button>
                </div>
            </form>
        </div>
    </div>
    <script th:src="@{/js/common.js}"></script>
</body>

</html>